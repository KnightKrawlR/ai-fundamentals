<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Games | AI Fundamentals</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/game-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Add Tailwind CSS for the React app -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: {
                50: '#f0f9ff',
                100: '#e0f2fe',
                200: '#bae6fd',
                300: '#7dd3fc',
                400: '#38bdf8',
                500: '#0ea5e9',
                600: '#0284c7',
                700: '#0369a1',
                800: '#075985',
                900: '#0c4a6e',
              },
            },
          },
        },
      }
    </script>
    
    <!-- Firebase v8 -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-functions.js"></script>

    <script>
      // Initialize Firebase
      var firebaseConfig = {
        apiKey: "AIzaSyAu8DLZc5Wq-Dcd8hCKEZQHFU8OMKrH-iw",
        authDomain: "ai-fundamentals-d7ab7.firebaseapp.com",
        projectId: "ai-fundamentals-d7ab7",
        storageBucket: "ai-fundamentals-d7ab7.appspot.com",
        messagingSenderId: "307417765018",
        appId: "1:307417765018:web:5c8735042329d66c96b804"
      };
      
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      
      // Make firebase globally available to the React app
      window.firebase = firebase;
      console.log("Firebase initialized successfully");
    </script>
    
    <style>
      /* Override styles for React components */
      #my-games-root {
        min-height: 500px;
        padding: 20px 0;
      }
      
      /* Fix for primary color classes */
      .bg-primary-500 {
        background-color: #0ea5e9;
      }
      .bg-primary-600 {
        background-color: #0284c7;
      }
      .bg-primary-700 {
        background-color: #0369a1;
      }
      .text-primary-600 {
        color: #0284c7;
      }
      .border-primary-500 {
        border-color: #0ea5e9;
      }
      .bg-primary-100 {
        background-color: #e0f2fe;
      }
      .bg-primary-50 {
        background-color: #f0f9ff;
      }
      
      /* Basic utility classes that might be missing */
      .flex { display: flex; }
      .flex-1 { flex: 1; }
      .flex-col { flex-direction: column; }
      .items-center { align-items: center; }
      .justify-center { justify-content: center; }
      .space-y-4 > * + * { margin-top: 1rem; }
      .min-h-\[500px\] { min-height: 500px; }
      .rounded-lg { border-radius: 0.5rem; }
      .rounded-md { border-radius: 0.375rem; }
      .rounded { border-radius: 0.25rem; }
      .p-4 { padding: 1rem; }
      .border { border-width: 1px; }

      /* Header and layout styles */
      body {
        font-family: 'Inter', sans-serif;
        line-height: 1.5;
        color: #333;
        margin: 0;
        padding: 0;
      }
      
      header {
        background-color: #5D3FD3;
        padding: 1rem;
        color: white;
      }
      
      header .container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        max-width: 1200px;
        margin: 0 auto;
      }
      
      .header-logo {
        display: flex;
        align-items: center;
        text-decoration: none;
        color: white;
      }
      
      .header-logo img {
        width: 24px;
        height: 24px;
        margin-right: 10px;
      }
      
      .header-logo span {
        font-size: 1.125rem;
        font-weight: 600;
      }
      
      .nav-links {
        display: flex;
        list-style: none;
        gap: 2rem;
        margin: 0;
        padding: 0;
      }
      
      .nav-links a {
        color: white;
        text-decoration: none;
        font-weight: 500;
      }
      
      .user-profile {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .user-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background-color: #8667E8;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
      }
      
      .user-email {
        font-size: 0.875rem;
      }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <a href="/" class="header-logo">
                <img src="images/logo.png" alt="AI Fundamentals Logo">
                <span>AI Fundamentals</span>
            </a>
            
            <ul class="nav-links">
                <li><a href="learning.html">Learning</a></li>
                <li><a href="ai-tools.html">AI Tools</a></li>
                <li><a href="premium.html">Premium</a></li>
                <li><a href="my-games.html">My Games</a></li>
            </ul>
            
            <div class="user-profile">
                <div class="user-avatar">W</div>
                <span class="user-email">walexisj@gmail.com</span>
            </div>
        </div>
    </header>

    <main>
        <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 20px;">
            <div id="my-games-root"></div>
            
            <!-- Fallback if React fails to load -->
            <div id="loading-fallback" style="display: flex; justify-content: center; align-items: center; height: 300px;">
                <div style="text-align: center;">
                    <div class="spinner" style="border: 4px solid rgba(0,0,0,.1); width: 36px; height: 36px; border-radius: 50%; border-left-color: #5D3FD3; animation: spin 1s linear infinite; margin: 0 auto;"></div>
                    <p style="margin-top: 16px;">Loading My Games experience...</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>AI Fundamentals</h3>
                    <p>Your journey to AI mastery starts here</p>
                </div>
                <div class="footer-section">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="#">Flashcards</a></li>
                        <li><a href="#">Study Guides</a></li>
                        <li><a href="#">Video Lessons</a></li>
                        <li><a href="#">Practice Quizzes</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 AI Fundamentals. All rights reserved.</p>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <style>
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>

    <!-- Include the bundled React application -->
    <script src="my-games/dist/my-games-bundle.js"></script>
    
    <script>
      // Check if bundle loaded correctly
      window.addEventListener('load', function() {
        // Give the app some time to render
        setTimeout(function() {
          // If loading indicator is still visible after 5 seconds, show error
          const loadingEl = document.getElementById('loading-fallback');
          if (loadingEl && loadingEl.style.display !== 'none') {
            console.error('React app failed to hide loading indicator');
            loadingEl.innerHTML = 
              '<div style="text-align: center; padding: 20px;">' +
              '<h2 style="color: #e53e3e; margin-bottom: 10px;">Unable to load game content</h2>' +
              '<p>We\'re having trouble loading the My Games experience. Please try refreshing the page.</p>' +
              '<button onclick="window.location.reload()" style="background: #5D3FD3; color: white; border: none; padding: 8px 16px; border-radius: 4px; margin-top: 16px; cursor: pointer;">Refresh Page</button>' +
              '</div>';
          }
        }, 8000);
      });
    </script>
</body>
</html>
