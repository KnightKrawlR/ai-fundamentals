<script type="module">
    import { authService } from './js/auth-service.js';
    
    document.addEventListener('DOMContentLoaded', function() {
      // Set up Google Sign-In button
      const googleButton = document.querySelector('.google-signin-button');
      if (googleButton) {
        googleButton.addEventListener('click', async function() {
          try {
            const user = await authService.signInWithGoogle();
            window.location.href = 'account.html';
          } catch (error) {
            console.error("Google sign-in error:", error);
            alert("Google sign-in failed. Please try again.");
          }
        });
      }
      
      // Set up demo login button
      const demoButton = document.querySelector('.demo-login-button');
      if (demoButton) {
        demoButton.addEventListener('click', function() {
          // Store demo user in localStorage for simulation
          localStorage.setItem('user', JSON.stringify({
            email: 'demo@aifundamentals.com',
            displayName: 'Demo User',
            plan: 'premium'
          }));
          window.location.href = 'account.html';
        });
      }
      
      // Handle login form submission
      const loginForm = document.getElementById('login-form');
      if (loginForm) {
        loginForm.addEventListener('submit', async function(event) {
          event.preventDefault();
          
          const email = document.getElementById('login-email').value;
          const password = document.getElementById('login-password').value;
          
          try {
            const user = await authService.signInWithEmail(email, password);
            window.location.href = 'account.html';
          } catch (error) {
            console.error("Email sign-in error:", error);
            alert("Login failed. Please check your email and password.");
          }
        });
      }
    });
  </script>
  