<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fundamentals - My Account</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html" class="site-logo">
                <i class="fas fa-brain"></i>
                <span>AI Fundamentals</span>
            </a>
            <nav>
                <ul>
                    <li><a href="index.html#learning">Learning</a></li>
                    <li><a href="index.html#ai-tools">AI Tools</a></li>
                    <li><a href="index.html#premium">Premium</a></li>
                </ul>
            </nav>
            <button class="login-button"><i class="fas fa-user"></i><span> My Account</span></button>
        </div>
    </header>

    <section class="account-section">
        <div class="container">
            <div class="account-container">
                <div class="account-sidebar">
                    <div class="user-profile">
                        <div class="profile-image">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div class="profile-info">
                            <h3 id="user-name">User Name</h3>
                            <p id="user-email">user@example.com</p>
                        </div>
                    </div>
                    <div class="account-nav">
                        <ul>
                            <li><a href="#profile" class="active">Profile</a></li>
                            <li><a href="#subscription">Subscription</a></li>
                            <li><a href="#progress">Learning Progress</a></li>
                            <li><a href="#settings">Settings</a></li>
                            <li><a href="#" id="logout-button">Sign Out</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="account-content">
                    <div id="profile" class="account-tab active">
                        <h2>My Profile</h2>
                        <div class="profile-details">
                            <div class="form-group">
                                <label for="display-name">Display Name</label>
                                <input type="text" id="display-name" value="User Name">
                            </div>
                            <div class="form-group">
                                <label for="profile-email">Email</label>
                                <input type="email" id="profile-email" value="user@example.com" disabled>
                            </div>
                            <div class="form-group">
                                <label for="bio">Bio</label>
                                <textarea id="bio" rows="4" placeholder="Tell us about yourself..."></textarea>
                            </div>
                            <div class="form-actions">
                                <button class="btn">Save Changes</button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="subscription" class="account-tab">
                        <h2>My Subscription</h2>
                        <div class="subscription-details">
                            <div class="current-plan">
                                <h3>Current Plan: <span id="plan-name">Basic</span></h3>
                                <p id="plan-description">Free access to basic features.</p>
                                <div id="premium-features" class="premium-features" style="display: none;">
                                    <h4>Your Premium Features:</h4>
                                    <ul>
                                        <li><i class="fas fa-check"></i> 500+ advanced AI flashcards</li>
                                        <li><i class="fas fa-check"></i> Unlimited study sessions</li>
                                        <li><i class="fas fa-check"></i> Progress tracking</li>
                                        <li><i class="fas fa-check"></i> Downloadable resources</li>
                                        <li><i class="fas fa-check"></i> Priority support</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="upgrade-options">
                                <h3>Upgrade Your Plan</h3>
                                <p>Get access to premium features and content.</p>
                                <a href="payment.html" class="btn">View Upgrade Options</a>
                            </div>
                        </div>
                    </div>
                    
                    <div id="progress" class="account-tab">
                        <h2>Learning Progress</h2>
                        <div class="progress-overview">
                            <div class="progress-stat">
                                <h3>25%</h3>
                                <p>Course Completion</p>
                            </div>
                            <div class="progress-stat">
                                <h3>2/6</h3>
                                <p>Modules Completed</p>
                            </div>
                            <div class="progress-stat">
                                <h3>15</h3>
                                <p>Flashcards Mastered</p>
                            </div>
                        </div>
                        
                        <div class="module-progress">
                            <h3>Module Progress</h3>
                            <div class="progress-list">
                                <div class="progress-item completed">
                                    <div class="progress-header">
                                        <h4>Introduction to AI</h4>
                                        <span class="progress-percent">100%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 100%;"></div>
                                    </div>
                                </div>
                                
                                <div class="progress-item in-progress">
                                    <div class="progress-header">
                                        <h4>Office Productivity</h4>
                                        <span class="progress-percent">50%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 50%;"></div>
                                    </div>
                                </div>
                                
                                <div class="progress-item">
                                    <div class="progress-header">
                                        <h4>Personal Finance</h4>
                                        <span class="progress-percent">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 0%;"></div>
                                    </div>
                                </div>
                                
                                <div class="progress-item locked">
                                    <div class="progress-header">
                                        <h4>Social Media Marketing</h4>
                                        <span class="progress-badge">Premium</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 0%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="settings" class="account-tab">
                        <h2>Account Settings</h2>
                        <div class="settings-options">
                            <div class="settings-group">
                                <h3>Notification Preferences</h3>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Email notifications
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Learning reminders
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> New content alerts
                                    </label>
                                </div>
                            </div>
                            
                            <div class="settings-group">
                                <h3>Privacy Settings</h3>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox" checked> Show my progress to others
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-label">
                                        <input type="checkbox"> Share my activity on social media
                                    </label>
                                </div>
                            </div>
                            
                            <div class="settings-group">
                                <h3>Password</h3>
                                <button class="btn btn-outline">Change Password</button>
                            </div>
                            
                            <div class="settings-group">
                                <h3>Danger Zone</h3>
                                <button class="btn btn-danger">Delete Account</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>AI Fundamentals</h3>
                    <p>Your journey to AI mastery starts here</p>
                </div>
                <div class="footer-column">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="#">Flashcards</a></li>
                        <li><a href="#">Study Guides</a></li>
                        <li><a href="#">Video Lessons</a></li>
                        <li><a href="#">Practice Quizzes</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Careers</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 AI Fundamentals. All rights reserved.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDjMIsQKMgdA6qNg7gnXDumhNOOWOD-Y00",
            authDomain: "ai-fundamentals-ad37d.firebaseapp.com",
            projectId: "ai-fundamentals-ad37d",
            storageBucket: "ai-fundamentals-ad37d.firebasestorage.app",
            messagingSenderId: "668115447112",
            appId: "1:668115447112:web:c0772e9f8c6a498737977d",
            measurementId: "G-2D5V39EQ3T"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            firebase.auth().onAuthStateChanged(function(user) {
                if (user) {
                    // User is signed in
                    updateUIWithUserData(user);
                } else {
                    // User is not signed in, redirect to login
                    window.location.href = 'login.html';
                }
            });
            
            // Set up logout button
            const logoutButton = document.getElementById('logout-button');
            if (logoutButton) {
                logoutButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Sign out from Firebase
                    firebase.auth().signOut()
                        .then(() => {
                            // Clear local storage
                            localStorage.removeItem('user');
                            
                            // Redirect to home page
                            window.location.href = 'index.html';
                        })
                        .catch((error) => {
                            console.error('Error signing out:', error);
                        });
                });
            }
            
            // Set up tab navigation
            const tabLinks = document.querySelectorAll('.account-nav a');
            const tabContents = document.querySelectorAll('.account-tab');
            
            tabLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    if (this.getAttribute('id') !== 'logout-button') {
                        e.preventDefault();
                        
                        // Remove active class from all tabs
                        tabLinks.forEach(l => l.classList.remove('active'));
                        tabContents.forEach(c => c.classList.remove('active'));
                        
                        // Add active class to clicked tab
                        this.classList.add('active');
                        
                        // Show corresponding tab content
                        const tabId = this.getAttribute('href').substring(1);
                        document.getElementById(tabId).classList.add('active');
                    }
                });
            });
        });
        
        // Update UI with user data
        function updateUIWithUserData(user) {
            // Try to get user data from localStorage first (for demo users)
            let userData = null;
            const storedUser = localStorage.getItem('user');
            
            if (storedUser) {
                userData = JSON.parse(storedUser);
            } else if (user) {
                // Use Firebase user data
                userData = {
                    uid: user.uid,
                    name: user.displayName || 'User',
                    email: user.email,
                    plan: 'Basic' // Default plan
                };
                
                // Save to localStorage for demo purposes
                localStorage.setItem('user', JSON.stringify(userData));
            }
            
            if (userData) {
                // Update profile information
                document.getElementById('user-name').textContent = userData.name;
                document.getElementById('user-email').textContent = userData.email;
                document.getElementById('display-name').value = userData.name;
                document.getElementById('profile-email').value = userData.email;
                
                // Update subscription information
                const planName = document.getElementById('plan-name');
                const planDescription = document.getElementById('plan-description');
                const premiumFeatures = document.getElementById('premium-features');
                
                if (userData.plan === 'Premium' || userData.plan === 'premium') {
                    planName.textContent = 'Premium';
                    planDescription.textContent = 'You have access to all premium features.';
                    premiumFeatures.style.display = 'block';
                    
                    // Update locked content
                    document.querySelectorAll('.locked').forEach(el => {
                        el.classList.remove('locked');
                    });
                } else if (userData.plan === 'Premium Plus') {
                    planName.textContent = 'Premium Plus';
                    planDescription.textContent = 'You have access to all premium plus features.';
                    premiumFeatures.style.display = 'block';
                    
                    // Update locked content
                    document.querySelectorAll('.locked').forEach(el => {
                        el.classList.remove('locked');
                    });
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</body>
</html>
